(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(t,a,e){t.exports=e(67)},50:function(t,a,e){},51:function(t,a,e){},67:function(t,a,e){"use strict";e.r(a);var n=e(1),r=e.n(n),s=e(22),o=e.n(s),i=(e(49),e(50),e(10)),u=e(11),c=e(13),l=e(12),m=e(14),h=e(42),p=e(21),d=e(82),y=(e(51),e(7)),x=e(68),f=e(69),M=e(70),g=e(71),E=e(72),b=e(73),v=e(74),w=e(86),O=e(75),C=e(76),P=e(77),j=function(t){function a(t){var e;return Object(i.a)(this,a),(e=Object(c.a)(this,Object(l.a)(a).call(this,t))).reloadVsPlayer=function(){window.location.assign("./#/vsplayer"),window.location.reload()},e.reloadVsComputer=function(){window.location.assign("./#/vscomputer"),window.location.reload()},e.toggle=e.toggle.bind(Object(y.a)(e)),e.state={isOpen:!1},e}return Object(m.a)(a,t),Object(u.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x.a,{color:"light",light:!0,expand:"md"},r.a.createElement(f.a,{href:"/germwarfare/"},"GermWarfare"),r.a.createElement(M.a,{onClick:this.toggle}),r.a.createElement(g.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(E.a,{className:"ml-auto",navbar:!0},r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/components/"},"JohnKang")),r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"https://github.com/SeungsooKang/germwarfare"},"GitHub")),r.a.createElement(w.a,{nav:!0,inNavbar:!0},r.a.createElement(O.a,{nav:!0,caret:!0},"Options"),r.a.createElement(C.a,{right:!0},r.a.createElement(P.a,{onClick:this.reloadVsPlayer},"P vs P"),r.a.createElement(P.a,{onClick:this.reloadVsComputer},"P vs C")))))))}}]),a}(r.a.Component),S=e(83),k=e(84),D=["white","red","blue"],N=["white","#f4a688","#fff2df","#ffff99"],R=function(t){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){var t={width:"60px",height:"60px",padding:"5%",border:"1px solid #c8c3cc",background:N[this.props.bgStatus]},a={width:"50px",height:"50px",WebkitBorderRadius:"25px",MozBorderRadius:"25px",borderRadius:"25px",background:D[this.props.status],margin:"0 auto"};return r.a.createElement("div",{className:"cell",style:t},0!==this.props.status?r.a.createElement("div",{style:a}):"")}}]),a}(r.a.Component);function z(t,a,e,n){var r=a.filter(function(t){return 0===t.row}).length;switch(a[t.x*r+t.y].bgStatus){case 0:break;case 1:a[t.x*r+t.y].status=e.status,B(t,a,e),n=1===n?2:1,I(a);break;case 2:a[t.x*r+t.y].status=e.status,B(t,a,e),a[e.row*r+e.col].status=0,n=1===n?2:1,I(a)}return n}function G(t,a){return I(a),T(t,a)}function B(t,a,e){var n=A(t,a.filter(function(t){return 0===t.col}).length,a.filter(function(t){return 0===t.row}).length);a.map(function(t){return-1!==n.findIndex(function(a){return a.x===t.row&&a.y===t.col})&&0!==t.status&&(t.status=e.status),t})}function I(t){t.map(function(t){return t.bgStatus=0,t})}function T(t,a){var e=a.filter(function(t){return 0===t.col}).length,n=a.filter(function(t){return 0===t.row}).length,r=A(t,e,n),s=function(t,a,e){var n=[];return n.push({x:Math.min(Math.max(t.x-2,0),a-1),y:Math.min(Math.max(t.y-2,0),e-1)}),n.push({x:Math.min(Math.max(t.x-2,0),a-1),y:Math.min(Math.max(t.y-1,0),e-1)}),n.push({x:Math.min(Math.max(t.x-2,0),a-1),y:Math.min(Math.max(t.y,0),e-1)}),n.push({x:Math.min(Math.max(t.x-2,0),a-1),y:Math.min(Math.max(t.y+1,0),e-1)}),n.push({x:Math.min(Math.max(t.x-2,0),a-1),y:Math.min(Math.max(t.y+2,0),e-1)}),n.push({x:Math.min(Math.max(t.x-1,0),a-1),y:Math.min(Math.max(t.y-2,0),e-1)}),n.push({x:Math.min(Math.max(t.x-1,0),a-1),y:Math.min(Math.max(t.y+2,0),e-1)}),n.push({x:Math.min(Math.max(t.x,0),a-1),y:Math.min(Math.max(t.y-2,0),e-1)}),n.push({x:Math.min(Math.max(t.x,0),a-1),y:Math.min(Math.max(t.y+2,0),e-1)}),n.push({x:Math.min(Math.max(t.x+1,0),a-1),y:Math.min(Math.max(t.y-2,0),e-1)}),n.push({x:Math.min(Math.max(t.x+1,0),a-1),y:Math.min(Math.max(t.y+2,0),e-1)}),n.push({x:Math.min(Math.max(t.x+2,0),a-1),y:Math.min(Math.max(t.y-2,0),e-1)}),n.push({x:Math.min(Math.max(t.x+2,0),a-1),y:Math.min(Math.max(t.y-1,0),e-1)}),n.push({x:Math.min(Math.max(t.x+2,0),a-1),y:Math.min(Math.max(t.y,0),e-1)}),n.push({x:Math.min(Math.max(t.x+2,0),a-1),y:Math.min(Math.max(t.y+1,0),e-1)}),n.push({x:Math.min(Math.max(t.x+2,0),a-1),y:Math.min(Math.max(t.y+2,0),e-1)}),n}(t,e,n);a.map(function(a){return t.x===a.row&&t.y===a.col&&(a.bgStatus=3),-1!==s.findIndex(function(t){return t.x===a.row&&t.y===a.col})&&0===a.status&&(a.bgStatus=2),-1!==r.findIndex(function(t){return t.x===a.row&&t.y===a.col})&&0===a.status&&(a.bgStatus=1),a})}function V(t){return{p1:t.filter(function(t){return 1===t.status}).length,p2:t.filter(function(t){return 2===t.status}).length}}function J(t,a,e,n){var r=a.filter(function(t){return 0===t.row}).length;switch(a[t.x*r+t.y].status){case 0:n=z(t,a,e,n);break;case 1:1===n&&function(t,a){I(a),T(t,a)}(t,a);break;default:2===n&&G(t,a)}return{md:a,pt:n,ct:V(a)}}function W(t,a){var e=K(t.filter(function(t){return t.status===a})),n=[];e.map(function(e){var r=K(t);G({x:e.row,y:e.col},r);var s=K(r.filter(function(t){return 1===t.bgStatus||2===t.bgStatus}));return s&&s.map(function(s){r=K(t),G({x:e.row,y:e.col},r),z({x:s.row,y:s.col},r,e,a);var o=V(r);return n.push({mapData:r,ct:o,diff:o.p2-o.p1}),s}),e});var r,s=Math.max.apply(Math,n.map(function(t){return t.diff})),o=n.filter(function(t){return t.diff===s}),i=(r=o.length,Math.floor(Math.random()*Math.floor(r)));return{md:o?o[i].mapData:t,pt:1===a?2:1,ct:o?o[i].ct:V(t)}}function A(t,a,e){var n=[];return n.push({x:Math.min(Math.max(t.x-1,0),a-1),y:Math.min(Math.max(t.y-1,0),e-1)}),n.push({x:Math.min(Math.max(t.x-1,0),a-1),y:Math.min(Math.max(t.y,0),e-1)}),n.push({x:Math.min(Math.max(t.x-1,0),a-1),y:Math.min(Math.max(t.y+1,0),e-1)}),n.push({x:Math.min(Math.max(t.x,0),a-1),y:Math.min(Math.max(t.y-1,0),e-1)}),n.push({x:Math.min(Math.max(t.x,0),a-1),y:Math.min(Math.max(t.y+1,0),e-1)}),n.push({x:Math.min(Math.max(t.x+1,0),a-1),y:Math.min(Math.max(t.y-1,0),e-1)}),n.push({x:Math.min(Math.max(t.x+1,0),a-1),y:Math.min(Math.max(t.y,0),e-1)}),n.push({x:Math.min(Math.max(t.x+1,0),a-1),y:Math.min(Math.max(t.y+1,0),e-1)}),n}function K(t){return JSON.parse(JSON.stringify(t))}var H=function(t){function a(){var t,e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=Object(c.a)(this,(t=Object(l.a)(a)).call.apply(t,[this].concat(s)))).state={mapSize:{numRow:7,numCol:7},mapData:e.createPlayMap(7,7),playerTurn:1,currData:{},count:{},isPlayed:!1},e.createRow=function(t,a){for(var n=e.state.mapData.filter(function(a){return a.row===t}),s=[],o=0;o<a;o++)s.push(r.a.createElement("td",{key:o},r.a.createElement(R,{status:n[o].status,bgStatus:n[o].bgStatus})));return r.a.createElement("tr",{key:t},s)},e.createMap=function(t,a){for(var n=[],s=0;s<t;s++)n.push(e.createRow(s,a));return r.a.createElement("table",{className:"mainpane",onClick:e.onMainPaneClick,style:{margin:"0 auto"}},r.a.createElement("tbody",null,n))},e.onMainPaneClick=function(t){var a=document.getElementsByClassName("mainpane")[0].getBoundingClientRect(),n=Math.floor((t.clientY-a.y)/(a.height/e.state.mapSize.numRow)),r=Math.floor((t.clientX-a.x)/(a.width/e.state.mapSize.numCol)),s=e.state.playerTurn;e.props.gameEnd||e.processClickInput(n,r,s)},e}return Object(m.a)(a,t),Object(u.a)(a,[{key:"createPlayMap",value:function(t,a){for(var e=[],n=0;n<t;n++)for(var r=0;r<a;r++)e.push({row:n,col:r,status:0,bgStatus:0});return e[0].status=1,e[a-1].status=2,e[t*a-a].status=2,e[t*a-1].status=1,e}},{key:"processClickInput",value:function(t,a,e){var n=this;this.state.mapData[t*this.state.mapSize.numCol+a].status===this.state.playerTurn?this.setState({currData:this.state.mapData[t*this.state.mapSize.numCol+a]},function(){n.processInputPosition(t,a,e)}):this.processInputPosition(t,a,e)}},{key:"processInputPosition",value:function(t,a,e){var n=this,r=J({x:t,y:a},this.state.mapData,this.state.currData,this.state.playerTurn);this.setState({mapData:r.md,playerTurn:r.pt,count:r.ct,isPlayed:e!==r.pt},function(){if(n.props.updateCellCount(n.state.count),1===n.props.playmode&&n.state.isPlayed&&2===n.state.playerTurn&&0!==n.state.count.p2){var t=W(n.state.mapData,n.state.playerTurn);(a=500,new Promise(function(t){return setTimeout(t,a)})).then(function(){n.setState({mapData:t.md,playerTurn:t.pt,count:t.ct,isPlayed:e!==t.pt},function(){n.props.updateCellCount(n.state.count)})})}var a})}},{key:"render",value:function(){return r.a.createElement("div",null,this.createMap(this.state.mapSize.numRow,this.state.mapSize.numCol))}}]),a}(r.a.Component),X=e(78),Y=function(t){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){var t={width:"50px",height:"50px",WebkitBorderRadius:"25px",MozBorderRadius:"25px",borderRadius:"25px",background:1===this.props.status?"red":"blue",margin:"0 auto"};return r.a.createElement("div",{className:"w-100 h-100",style:{border:"1px solid #c8c3cc"}},r.a.createElement("div",{className:"h-50 d-flex justify-content-center align-items-center"},r.a.createElement("h1",null,this.props.playerid,r.a.createElement("div",{style:t}))),r.a.createElement("div",{className:"h-50"},r.a.createElement(X.a,{className:"h-100 d-flex justify-content-center align-items-center"},r.a.createElement("p",{style:{fontSize:"90px"}},this.props.count))))}}]),a}(r.a.Component),$=e(85),q=e(79),F=e(80),L=e(81),Q=e(40),U=function(t){function a(t){var e;return Object(i.a)(this,a),(e=Object(c.a)(this,Object(l.a)(a).call(this,t))).reloadVsPlayer=function(){window.location.assign("./#/vsplayer"),window.location.reload()},e.reloadVsComputer=function(){window.location.assign("./#/vscomputer"),window.location.reload()},e.state={modal:!1},e.toggle=e.toggle.bind(Object(y.a)(e)),e}return Object(m.a)(a,t),Object(u.a)(a,[{key:"toggle",value:function(){this.setState(function(t){return{modal:!t.modal}})}},{key:"render",value:function(){var t=0===this.props.playmode?r.a.createElement("div",null,r.a.createElement("p",null,"Player1: ",this.props.countP1),r.a.createElement("p",null,"Player2: ",this.props.countP2)):r.a.createElement("div",null,r.a.createElement("p",null,"Player: ",this.props.countP1),r.a.createElement("p",null,"Computer: ",this.props.countP2));return r.a.createElement("div",null,r.a.createElement($.a,{isOpen:this.props.isOpen,toggle:this.toggle,className:this.props.className},r.a.createElement(q.a,null,0===this.props.playmode?this.props.countP1>this.props.countP2?"Player1 won!":"Player2 won!":this.props.countP1>this.props.countP2?"Player won!":"Computer won!"),r.a.createElement(F.a,null,t),r.a.createElement(L.a,null,0===this.props.playmode?r.a.createElement(Q.a,{color:"primary",onClick:this.reloadVsPlayer},"Ok"):r.a.createElement(Q.a,{color:"primary",onClick:this.reloadVsComputer},"Ok"))))}}]),a}(r.a.Component),Z=function(t){function a(){var t,e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=Object(c.a)(this,(t=Object(l.a)(a)).call.apply(t,[this].concat(r)))).state={count:{p1:2,p2:2},playMode:0,gameStatus:{isGameEnded:!1,winner:null}},e.updateCountState=function(t){e.setState({count:t},function(){e.setState({gameStatus:{isGameEnded:0===e.state.count.p1||0===e.state.count.p2||e.state.count.p1+e.state.count.p2===49,winner:e.state.count.p1>e.state.count.p2?1:2}})})},e}return Object(m.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{xs:"3"},r.a.createElement(Y,{playerid:0===this.state.playMode?"Player1":"Player",status:1,count:this.state.count.p1})),r.a.createElement(k.a,{xs:"6"},r.a.createElement(H,{updateCellCount:this.updateCountState,playmode:this.state.playMode,gameEnd:this.state.gameStatus.isGameEnded})),r.a.createElement(k.a,{xs:"3"},r.a.createElement(Y,{playerid:0===this.state.playMode?"Player2":"Computer",status:2,count:this.state.count.p2})))),r.a.createElement(U,{isOpen:this.state.gameStatus.isGameEnded,playmode:this.state.playMode,countP1:this.state.count.p1,countP2:this.state.count.p2}))}}]),a}(r.a.Component),_=function(t){function a(){var t,e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=Object(c.a)(this,(t=Object(l.a)(a)).call.apply(t,[this].concat(r)))).state={count:{p1:2,p2:2},playMode:1,gameStatus:{isGameEnded:!1,winner:null}},e.updateCountState=function(t){e.setState({count:t},function(){e.setState({gameStatus:{isGameEnded:0===e.state.count.p1||0===e.state.count.p2||e.state.count.p1+e.state.count.p2===49,winner:e.state.count.p1>e.state.count.p2?1:2}})})},e}return Object(m.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{xs:"3"},r.a.createElement(Y,{playerid:0===this.state.playMode?"Player1":"Player",status:1,count:this.state.count.p1})),r.a.createElement(k.a,{xs:"6"},r.a.createElement(H,{updateCellCount:this.updateCountState,playmode:this.state.playMode,gameEnd:this.state.gameStatus.isGameEnded})),r.a.createElement(k.a,{xs:"3"},r.a.createElement(Y,{playerid:0===this.state.playMode?"Player2":"Computer",status:2,count:this.state.count.p2})))),r.a.createElement(U,{isOpen:this.state.gameStatus.isGameEnded,playmode:this.state.playMode,countP1:this.state.count.p1,countP2:this.state.count.p2}))}}]),a}(r.a.Component),tt=function(t){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,{style:{marginBottom:"25px"}},r.a.createElement(j,{updatePlayMode:this.updatePlayModeState})),r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:Z}),r.a.createElement(p.a,{path:"/vsplayer",component:Z}),r.a.createElement(p.a,{path:"/vscomputer",component:_}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.f21463d7.chunk.js.map